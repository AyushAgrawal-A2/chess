* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Times New Roman", serif;
}

body {
  overflow: hidden;
  background-color: black;
}

.game-container {
  display: grid;
  grid-template-areas:
    "status controls"
    "captured-top captured-top"
    "board board"
    "captured-bottom captured-bottom";
  align-items: center;
}

.game-status {
  grid-area: status;
  font-weight: 800;
  font-size: 2.5rem;
  color: #779556;
  padding: 0.25rem 0.5rem;
}

.game-controls {
  grid-area: controls;
  justify-self: end;
  display: flex;
  align-items: center;
  column-gap: 1rem;
  padding: 0.5rem 0.5rem;
}

img {
  background-color: #ebecd0;
  padding: 0.25rem 0.25rem;
  border-radius: 0.5rem;
  height: 2.5rem;
}

img:hover {
  background-color: #f3f3e2;
}

.captured {
  background-color: #ebecd0;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  height: 3.5rem;
  border: 1px solid black;
}

.captured.top {
  grid-area: captured-top;
}

.captured.bottom {
  grid-area: captured-bottom;
}

.board {
  grid-area: board;
}

.row {
  height: min(calc((100 * var(--vh) - 10rem)/8), 12.5vw);
  margin: 0 auto;
  aspect-ratio: 8/1;
  display: flex;
}

.cell {
  aspect-ratio: 1/1;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  font-size: 6.5rem;
}

.cell.small {
  font-size: 2.5rem;
  border: none;
}

.cell::before {
  content: attr(data-symbol);
}

.row:nth-child(odd) .cell:nth-child(odd),
.row:nth-child(even) .cell:nth-child(even) {
  background-color: #ebecd0;
}

.row:nth-child(odd) .cell:nth-child(even),
.row:nth-child(even) .cell:nth-child(odd) {
  background-color: #779556;
}

div.cell.highlight {
  box-shadow: inset 0 0 2.5rem #fdd700;
}

div.cell.danger {
  box-shadow: inset 0 0 2.5rem #ff2727;
}

.modal {
  position: absolute;
  translate: -50% -50%;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: white;
  border: 2px solid black;
  border-radius: 1rem;
}

.modal .cell {
  border: none;
}

/* portrait scaling */
@media (max-aspect-ratio: 4/3) {
  @media (max-width: 1000px) or (max-height: 1200px) {
    .cell {
      font-size: 5rem;
    }
  }

  @media (max-width: 800px) or (max-height: 1000px) {
    .cell {
      font-size: 4.25rem;
    }
  }

  @media (max-height: 775px) {
    .cell {
      font-size: 3.5rem;
    }

    .cell.small {
      font-size: 1.5rem;
    }
  }

  @media (max-width: 650px) or (max-height: 650px) {
    .cell {
      font-size: 2.5rem;
    }
  }
}

/* convert to landscape and scaling */
@media (min-aspect-ratio: 4/3) {
  .game-container {
    grid-template-areas:
      "board captured-top"
      "board status"
      "board controls"
      "board captured-bottom";
    justify-content: center;
  }

  .row {
    height: calc(12.5 * var(--vh));
  }

  .captured {
    height: calc(12.5 * var(--vh));
    width: calc(33 * var(--vh));
  }

  .game-status {
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    height: calc(25 * var(--vh));
    width: calc(33 * var(--vh));
  }

  .game-controls {
    align-items: end;
    justify-content: center;
    padding-bottom: 1rem;
    height: calc(50 * var(--vh));
    width: calc(33 * var(--vh));
  }

  @media (max-height: 1000px) or (max-width: 1000px) {
    .cell {
      font-size: 5rem;
    }
  }

  @media (max-height: 775px) {
    .cell {
      font-size: 4.25rem;
    }
  }

  @media (max-height: 650px) {
    .game-status {
      font-size: 2rem;
    }

    .cell {
      font-size: 3rem;
    }

    .cell.small {
      font-size: 1.5rem;
    }
  }

  @media (max-height: 450px) {
    .game-status {
      font-size: 1.5rem;
    }

    .cell {
      font-size: 2rem;
    }

    .cell.small {
      font-size: 1rem;
    }
  }
}